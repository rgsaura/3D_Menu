{"version":3,"file":"XR.js","sources":["../src/XR.tsx"],"sourcesContent":null,"names":["React","create","useThree","useCallbackRef","useIsomorphicLayoutEffect","XRController","session","InteractionManager","THREE","uniq","XRButton","onError"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA,MAAM,YAAYA,iBAAM,cAAsC,IAAK;AAQnE,MAAM,qBAAqBC,gBAAAA,QAA2B,CAAC,KAAK,SAAS,EAAE,KAAK,KAAK,SAAS,MAAM,oBAAoB,KAAA,EAAO;AA0B3H,SAAS,UAAU;AAAA,EACjB,YAAY;AAAA,EACZ,iBAAiB;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAY;AACV,QAAM,KAAKC,MAAAA,SAAS,CAAC,UAAU,MAAM,EAAE;AACvC,QAAM,SAASA,MAAAA,SAAS,CAAC,UAAU,MAAM,MAAM;AAC/C,QAAM,SAAS,MAAM,CAAC,UAAU,MAAM,MAAM;AAC5C,QAAM,MAAM,MAAM,CAAC,UAAU,MAAM,GAAG;AACtC,QAAM,MAAM,MAAM,CAAC,UAAU,MAAM,GAAG;AACtC,QAAM,UAAU,MAAM,CAAC,UAAU,MAAM,OAAO;AAC9C,QAAM,cAAc,MAAM,CAAC,UAAU,MAAM,WAAW;AAEhD,QAAA,oBAAoBC,qBAAe,cAAc;AACjD,QAAA,kBAAkBA,qBAAe,YAAY;AAC7C,QAAA,wBAAwBA,qBAAe,kBAAkB;AACzD,QAAA,0BAA0BA,qBAAe,oBAAoB;AAEnEC,QAAAA,0BAA0B,MAAM;AAC9B,UAAM,WAAW,CAAC,GAAG,CAAC,EAAE,IAAI,CAAC,OAAO;AAClC,YAAM,SAAS,IAAIC,aAAAA,aAAa,IAAI,EAAE;AACtC,YAAM,cAAc,MAAM,IAAI,CAAC,WAAW,EAAE,aAAa,CAAC,GAAG,MAAM,aAAa,MAAM,IAAI;AAC1F,YAAM,iBAAiB,MAAM,IAAI,CAAC,WAAW,EAAE,aAAa,MAAM,YAAY,OAAO,CAAC,OAAO,OAAO,MAAM,IAAI;AAEvG,aAAA,iBAAiB,aAAa,WAAW;AACzC,aAAA,iBAAiB,gBAAgB,cAAc;AAEtD,aAAO,MAAM;AACJ,eAAA,oBAAoB,aAAa,WAAW;AAC5C,eAAA,oBAAoB,gBAAgB,cAAc;AAAA,MAAA;AAAA,IAC3D,CACD;AAED,WAAO,MAAM,SAAS,QAAQ,CAAC,YAAY,QAAS,CAAA;AAAA,EAAA,GACnD,CAAC,IAAI,GAAG,CAAC;AAEcD,QAAA,0BAAA,MAAM,mBAAmB,UAAU,CAAC,EAAE,SAAAE,eAAc,IAAI,OAAO,EAAE,SAAAA,WAAU,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC;AAErHF,QAAAA,0BAA0B,MAAM;AAC3B,OAAA,GAAG,aAAa,SAAS;AACxB,QAAA,OAAO,EAAE,UAAY,EAAA;AAAA,KACxB,CAAC,GAAG,IAAI,WAAW,GAAG,CAAC;AAE1BA,QAAAA,0BAA0B,MAAM;AACxB,UAAA,qBAAqB,mBAAmB;AAC3C,OAAA,GAAG,sBAAsB,cAAc;AACtC,QAAA,OAAO,EAAE,eAAiB,EAAA;AAC9B,uBAAmB,IAAI,EAAE,oBAAoB,eAAgB,CAAA;AAAA,KAC5D,CAAC,GAAG,IAAI,gBAAgB,GAAG,CAAC;AAE/BA,QAAAA,0BAA0B,MAAM;AAC9B,QAAI,CAAC;AAAS,aAAO,KAAK,GAAG,GAAG,WAAW,IAAK;AAE1C,UAAA,qBAAqB,CAAC,gBAAgC;;AAC1D,UAAI,OAAO,EAAE,cAAc,KAAA,EAAO;AAChB,8BAAA,YAAA,2CAAU,EAAE,aAAa,EAAE,GAAG,aAAa,QAAQ,QAAQ,GAAG,QAAQ,QAAS;AAAA,IAAA;AAE7F,UAAA,mBAAmB,CAAC,gBAAgC;;AACxD,UAAI,OAAO,EAAE,cAAc,OAAO,SAAS,KAAO,EAAA;AAClD,yBAAmB,SAAS,OAAO,EAAE,SAAS,OAAO;AACrC,4BAAA,YAAA,yCAAU,EAAE,aAAa,EAAE,GAAG,aAAa,QAAQ,QAAQ,GAAG,QAAQ,QAAS;AAAA,IAAA;AAE3F,UAAA,yBAAyB,CAAC,gBAAgC;;AAC9D,kCAAsB,YAAtB,+CAAgC,EAAE,aAAa,QAAQ,QAAS;AAAA,IAAA;AAE5D,UAAA,2BAA2B,CAAC,gBAA0C;;AACpE,YAAA,iBAAiB,OAAO,OAAO,QAAQ,YAAY,EAAE,KAAK,CAAC,WAAW,OAAO,IAAI;AACnF,UAAA,OAAO,EAAE,eAAiB,EAAA;AAC9B,oCAAwB,YAAxB,iDAAkC,EAAE,aAAa,QAAQ,QAAS;AAAA,IAAA;AAGjE,OAAA,GAAG,iBAAiB,gBAAgB,kBAAkB;AACtD,OAAA,GAAG,iBAAiB,cAAc,gBAAgB;AAC7C,YAAA,iBAAiB,oBAAoB,sBAAsB;AAC3D,YAAA,iBAAiB,sBAAsB,wBAAwB;AAEvE,OAAG,GAAG,WAAW,OAAO,EAAE,KAAK,MAAM;AAGnC,SAAG,GAAG,aAAa,IAAI,EAAE,SAAS;AAAA,IAAA,CACnC;AAED,WAAO,MAAM;AACR,SAAA,GAAG,oBAAoB,gBAAgB,kBAAkB;AACzD,SAAA,GAAG,oBAAoB,cAAc,gBAAgB;AAChD,cAAA,oBAAoB,oBAAoB,sBAAsB;AAC9D,cAAA,oBAAoB,sBAAsB,wBAAwB;AAAA,IAAA;AAAA,EAC5E,GACC,CAAC,SAAS,GAAG,IAAI,KAAK,GAAG,CAAC;AAG3B,SAAAJ,iCAAA,cAACO,uCACEP,iCAAA,cAAA,aAAA;AAAA,IAAU,QAAQ;AAAA,EAAA,GAChBA,iCAAA,cAAA,aAAA;AAAA,IAAU,QAAQ;AAAA,EAAA,CAAQ,GAC1B,YAAY,IAAI,CAAC,eACfA,iCAAA,cAAA,aAAA;AAAA,IAAU,KAAK,WAAW;AAAA,IAAO,QAAQ;AAAA,EAAA,CAAY,CACvD,CACH,GACC,QACH;AAEJ;AAEO,SAAS,GAAG,OAAgB;AACjC,QAAM,QAAQA,iBAAM;AAAA,IAClB,MACEC,gBAAA,QAAgB,CAAC,KAAK,SAAS;AAAA,MAC7B;AAAA,MACA;AAAA,MAEA,aAAa,CAAC;AAAA,MACd,cAAc;AAAA,MACd,gBAAgB;AAAA,MAChB,QAAQ,IAAIO,iBAAM,MAAM;AAAA,MACxB,SAAS;AAAA,MACT,WAAW;AAAA,MACX,gBAAgB;AAAA,MAEhB,YAAY;AAAA,QACV,0BAAU,IAAI;AAAA,QACd,2BAAW,IAAI;AAAA,QACf,0BAAU,IAAI;AAAA,MAChB;AAAA,MACA,kCAAkB,IAAI;AAAA,MACtB,eAAe,QAAwB,WAA8B;;AACnE,eAAO,CAAC,GAAC,SAAI,EACV,aAAa,IAAI,MAAM,MADjB,mBAEJ,WAAW,KAAK,CAAC,eAAe,WAAW;AAAA,MAClD;AAAA,MACA,eAAe,QAAwB,WAA8B;;AAC5D,gBAAA,SACJ,EAAA,aAAa,IAAI,MAAM,MADnB,mBAEF,WAAW,OAAO,CAAC,QAAQ,eAAe;AAC3C,cAAI,WAAW,SAAS;AACf,mBAAA,KAAK,WAAW,OAAO;AAAA,UAChC;AACO,iBAAA;AAAA,QACT,GAAG,CAA4B;AAAA,MACnC;AAAA,MACA,eAAe,QAAwB,WAA8B,YAAmD;AAChH,cAAA,eAAe,IAAM,EAAA;AAC3B,YAAI,CAAC,aAAa,IAAI,MAAM,GAAG;AAC7B,uBAAa,IAAI,QAAQ;AAAA,YACvB,SAAS,CAAC;AAAA,YACV,QAAQ,CAAC;AAAA,YACT,UAAU,CAAC;AAAA,YACX,aAAa,CAAC;AAAA,YACd,eAAe,CAAC;AAAA,YAChB,gBAAgB,CAAC;AAAA,YACjB,WAAW,CAAC;AAAA,YACZ,cAAc,CAAC;AAAA,YACf,gBAAgB,CAAC;AAAA,YACjB,iBAAiB,CAAC;AAAA,YAClB,QAAQ,CAAC;AAAA,UAAA,CACV;AAAA,QACH;AAEM,cAAA,SAAS,aAAa,IAAI,MAAM;AAC/B,eAAA,WAAW,KAAK,UAAU;AAAA,MACnC;AAAA,MACA,kBAAkB,QAAwB,WAA8B,YAAmD;AACzH,cAAM,SAAS,IAAM,EAAA,aAAa,IAAI,MAAM;AAC5C,YAAI,QAAQ;AACV,gBAAM,mBAAmB,OAAO,WAAW,QAAQ,UAAU;AAC7D,cAAI,qBAAqB;AAAW,mBAAA,WAAW,OAAO,kBAAkB,CAAC;AAAA,QAC3E;AAAA,MACF;AAAA,IAAA,EACA;AAAA,IACJ,CAAC;AAAA,EAAA;AAID,SAAAR,iCAAA,cAAC,UAAU,UAAV;AAAA,IAAmB,OAAO;AAAA,EAAA,GACxBA,iCAAA,cAAA,WAAA;AAAA,IAAW,GAAG;AAAA,EAAO,CAAA,CACxB;AAEJ;AAqBA,MAAM,oBAAoB,CACxB,+BACA,gBAC8B;;AAC1B,MAAA,CAAC,iCAAiC,CAAC,aAAa;AAC3C,WAAA;AAAA,EACT;AAEI,MAAA,iCAAiC,CAAC,aAAa;AACjD,WAAO,EAAE,kBAAkB,CAAC,6BAA6B;EAC3D;AAEA,MAAI,iCAAiC,aAAa;AAChD,WAAO,EAAE,GAAG,aAAa,kBAAkBS,WAAK,CAAC,IAAI,iBAAY,qBAAZ,YAAgC,CAAA,GAAK,6BAA6B,CAAC,EAAE;AAAA,EAC5H;AAEO,SAAA;AACT;AAEO,MAAM,WAAWT,iBAAM,WAA6C,SAASU,UAClF,EAAE,MAAM,aAAa,YAAY,OAAO,WAAW,OAAO,SAAS,SAAS,aAAa,SACzF,KACA;AACA,QAAM,CAAC,QAAQ,SAAS,IAAIV,iBAAM,SAAyB,QAAQ;AAC7D,QAAA,QAAQ,WAAW,gBAAgB,GAAG,qBAAqB,GAAG,WAAW,YAAY,SAAS,WAAW;AAC/G,QAAM,cAAe,SAAS,WAAW,OAAO,aAAa,KAAK,YAAY;AACxE,QAAA,aAAaG,qBAAe,OAAO;AAEzCC,QAAAA,0BAA0B,MAAM;AAC9B,QAAI,EAAC,uCAAW;AAAW,aAAA,KAAK,UAAU,aAAa;AAC7C,cAAA,GAAI,mBAAmB,WAAW,EAAE,KAAK,CAAC,cAAc,UAAU,YAAY,WAAW,aAAa,CAAC;AAAA,EAAA,GAChH,CAAC,WAAW,CAAC;AAEhBA,QAAA;AAAA,IACE,MACE,mBAAmB,UAAU,CAAC,UAAU;AACtC,UAAI,MAAM,SAAS;AACjB,kBAAU,SAAS;AAAA,MAAA,WACV,WAAW,eAAe;AACnC,kBAAU,QAAQ;AAAA,MACpB;AAAA,IAAA,CACD;AAAA,IACH,CAAC,MAAM;AAAA,EAAA;AAGT,QAAM,gBAAgBJ,iBAAM;AAAA,IAC1B,OAAO,UAA2D;AAChE,yCAAU;AAEJ,YAAA,UAAU,mBAAmB;AAGnC,UAAI,QAAQ,WAAW;AAAW;AAC9B,UAAA,CAAC,QAAQ,WAAW;AAAU;AAElC,UAAI,UAA4B;AAE5B,UAAA;AAEF,YAAI,QAAQ,SAAS;AACb,gBAAA,QAAQ,QAAQ;QAAI,OACrB;AACL,gBAAM,UAAU,kBAAkB,QAAQ,oBAAoB,WAAW;AACzE,oBAAU,MAAM,UAAU,GAAI,eAAe,aAAa,OAAO;AAAA,QACnE;AAEA,gBAAQ,IAAI,OAAO,EAAE,QAAA,EAAU;AAAA,eACxB;AACP,cAAMW,WAAU,WAAW;AAC3B,YAAIA,YAAW,aAAa;AAAOA,mBAAQ,CAAC;AAAA;AACjC,gBAAA;AAAA,MACb;AAAA,IACF;AAAA,IACA,CAAC,SAAS,WAAW,UAAU,aAAa,aAAa,UAAU;AAAA,EAAA;AAGrE,SACGX,iCAAA,cAAA,UAAA;AAAA,IAAQ,GAAG;AAAA,IAAO;AAAA,IAAU,SAAS,WAAW,gBAAgB,UAAU;AAAA,EAAA,GACxE,OAAO,aAAa,aAAa,SAAS,MAAM,IAAI,8BAAY,KACnE;AAEJ,CAAC;AAED,MAAM,eAAoB;AAAA,EACxB,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,WAAW;AAAA,EACX,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,cAAc;AAAA,EACd,YAAY;AAAA,EACZ,OAAO;AAAA,EACP,MAAM;AAAA,EACN,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,QAAQ;AACV;AAEO,MAAM,WAAWA,iBAAM;AAAA,EAC5B,CACE;AAAA,IACE,QAAQ;AAAA,IACR,cAAc;AAAA,MAEZ,YAAY,OAAO,aAAa,cAAc,EAAE,MAAM,SAAS,KAAS,IAAA;AAAA,MACxE,kBAAkB,CAAC,YAAY,eAAe,6BAA6B;AAAA,IAC7E;AAAA,IACA;AAAA,OACG;AAAA,EACL,GACA,QAECA,iCAAA,cAAA,UAAA;AAAA,IAAU,GAAG;AAAA,IAAM;AAAA,IAAU,MAAK;AAAA,IAAK;AAAA,IAAc;AAAA,EAAA,GACnD,QACH;AAEJ;AAEO,MAAM,WAAWA,iBAAM;AAAA,EAC5B,CACE;AAAA,IACE,QAAQ;AAAA,IACR,cAAc,EAAE,kBAAkB,CAAC,eAAe,iBAAiB,iBAAiB,QAAQ,EAAE;AAAA,IAC9F;AAAA,OACG;AAAA,EACL,GACA,QAECA,iCAAA,cAAA,UAAA;AAAA,IAAU,GAAG;AAAA,IAAM;AAAA,IAAU,MAAK;AAAA,IAAK;AAAA,IAAc;AAAA,EAAA,GACnD,QACH;AAEJ;AAEO,SAAS,MACd,WAAsC,CAAC,UAAU,OACjD,YACA;AACM,QAAA,QAAQA,iBAAM,WAAW,SAAS;AACxC,MAAI,CAAC;AAAa,UAAA,IAAI,MAAM,gDAAgD;AACrE,SAAA,MAAM,UAAU,UAAU;AACnC;AAEO,SAAS,cAAc,YAA0B;AACtD,QAAM,cAAc,MAAM,CAAC,UAAU,MAAM,WAAW;AACtD,QAAM,aAAaA,iBAAM;AAAA,IACvB,MAAM,YAAY,KAAK,CAAC,EAAE,YAAY,MAAM,YAAY,eAAe,UAAU;AAAA,IACjF,CAAC,YAAY,WAAW;AAAA,EAAA;AAGnB,SAAA;AACT;;;;;;;"}